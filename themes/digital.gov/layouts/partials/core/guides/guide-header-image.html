{{/* Gets the id of the header image and matches it to a .yml file */}}
{{- $thisuid := cond .IsNode .Params.Image .Parent.Params.Image -}}
{{- $thisuid := replaceRE "\\.[jpegpn]{3,4}$" "" $thisuid -}}
{{- $thisimg := index $.Site.Data.images $thisuid -}}

{{/* Gets the url of the image by concatenating the CDN url with the image uid */}}
{{- $cdnurl := .Site.Params.cdnurl -}}
{{- $imgBaseCDN := printf "%s/%s" $cdnurl $thisimg.uid -}}
{{- $imgExt := $thisimg.format -}}

{{- if $thisuid -}}
  <div class="dg-guide__header-image">
    <img
      src="{{- $imgBaseCDN -}}.{{- $imgExt -}}"
      alt="{{- $thisimg.alt | markdownify -}}"
    />
  </div>
{{- end -}}
