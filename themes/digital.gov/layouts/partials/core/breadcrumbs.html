<section class="breadcrumbs">
  <nav class="usa-breadcrumb" aria-label="Breadcrumbs">
    <ol class="usa-breadcrumb__list">
      <li class="usa-breadcrumb__list-item">
        <a href="/" class="usa-breadcrumb__link" ara-label="Back to home">
          <span>Home</span>
        </a>
      </li>
      {{- template "breadcrumb" dict "current" . "id" .File.UniqueID -}}
    </ol>
  </nav>
</section>


<!-- Breadcrumb template -->
{{- define "breadcrumb" -}}
  {{- if .current.Parent -}}
    <!-- If the Parent is not HOME -->
    {{- if ne .current.Parent .IsHome -}}
      <!-- Call this template again -->
      {{- template "breadcrumb" dict "current" .current.Parent -}}
    {{- end }}

    {{/*  Display the final current active sub-page with no link styling */}}
    {{- if eq .id .current.File.UniqueID }}
    <li class="usa-breadcrumb__list-item usa-current" aria-current="page">
      <span>
        {{ .current.Title -}}
      </span>
    </li>
    {{/*  Display the hierarchy path as links */}}
    {{ else }}
    <li class="usa-breadcrumb__list-item">
      <a href="{{- .current.Permalink -}}" class="usa-breadcrumb__link" aria-label="Back to {{ .current.Title}}">
        <span>
          {{ .current.Title -}}
        </span>
      </a>
    </li>
    {{- end -}}
  {{- end -}}
{{- end -}}
