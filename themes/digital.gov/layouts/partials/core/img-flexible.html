{{/* Partial for displaying any image type given its uid */}}

{{/* Gets the id of the image and matches it to a .yml file */}}
{{- $thisuid := .uid -}}
{{- $thisuid := replaceRE "\\.[jpegpn]{3,4}$" "" $thisuid -}}
{{- $thisimg := index $.Site.Data.images $thisuid -}}

{{/* Gets the url of the image by concatenating the CDN url with the image uid */}}
{{- $cdnurl := .Site.Params.cdnurl -}}
{{- $imgBaseCDN := printf "%s/%s" $cdnurl $thisimg.uid -}}
{{- $imgExt := $thisimg.format -}}

{{- if $thisimg -}}
  <img
    class="dg-img-flexible"
    src="{{- $imgBaseCDN -}}.{{- $imgExt -}}"
    alt="{{- $thisimg.alt | markdownify -}}"
  />
{{- end -}}
