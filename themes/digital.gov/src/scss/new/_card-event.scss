@use "uswds-core" as *;

.card-event {
  @include u-border-top("2px", "primary-darker", "solid");
  column-gap: units("205"); // Gives border consistent spacing on both sides
  grid-template-rows: 1fr !important;
  grid-template-areas:
    "c-content"
    "c-aside" !important;
  @include at-media("tablet") {
    grid-template-areas: "c-content c-aside" !important;
    grid-template-columns: 2fr 1fr !important;
  }
  .card__content {
    grid-area: c-content;
    @include u-display("flex");
    @include u-flex-direction("column");
    // refactor into _card.scss to update all card components from h3 to h2
    .card__header {
      &-title {
        @include u-font("sans", "lg");
        @include u-margin(0);
        @include u-text("bold");
        a {
          @include u-text("primary-darker");
          @include u-text("no-underline");
          &::after {
            content: "";
            @include u-position("absolute");
            @include u-top(0);
            @include u-left(0);
            @include u-right(0);
            @include u-bottom(0);
          }
        }
      }
    }
    .card__body {
      @include u-display("flex");
      @include u-flex-direction("column");
      flex-basis: 100%;
      // &-summary {},
      &-deck {
        @include u-margin-top(1);
        @include u-line-height("sans", 3);
        @include u-font("sans", "md");
        @include u-text("normal");
      }
      &-host {
        @include u-font("sans", "md");
        @include u-margin-y(1.5);
        @include u-color("gray-cool-60");
        @include u-line-height("sans", 1);
      }
      &-kicker {
        @include u-display("none");
        @include u-margin(0);
        @include u-margin-bottom("05");
        @include u-font("sans", "2xs");
        @include u-text("semibold");
        @include u-text("uppercase");
        @include u-color("primary-vivid");
        @include at-media("tablet") {
          @include u-display("flex");
          flex-basis: 100%;
        }
      }
      .authors-list {
        @include at-media("tablet") {
          @include u-padding-bottom(2);
        }
      }

      &-register-button {
        grid-area: d-register;
        @include u-display("inline");
        @include u-flex("align-center");
        @include u-display("block");
        display: flex;
        flex-direction: row;
        justify-content: center;
        @include u-border("2px", "primary-vivid", "solid");
        @include u-radius("sm");
        @include u-bg("white");
        @include u-padding(0);
        @include u-font("sans", "sm");
        @include u-text("primary-vivid");
        @include u-text("center");
        @include u-text("no-underline");
        transition: background-color 0.25s, color 0.25s;
        width: 100%;
        @include at-media("tablet") {
          @include u-display("none");
        }
      }
      &-register-datetime {
        display: flex;
        flex-direction: row;
      }
      &-register-date-month {
        padding-left: 0.5ch;
      }
      &-register-date-day {
        padding-left: 0.5ch;
      }
    }
  }
  .card__aside {
    grid-area: c-aside !important;

    &-datetime {
      display: flex;
      flex-direction: row;
      align-items: center;
      @include at-media("tablet") {
        flex-direction: column;
      }
    }

    &-date {
      @include u-display("none");
      @include u-flex("column");
      @include u-flex("align-center"); //
      @include u-width("auto"); //
      @include u-padding-left(2);
      @include u-border-left("1px", "indigo-warm-80", "solid");
      @include at-media("tablet") {
        display: grid;
        grid-template-areas: "d-month" "d-day" "d-register" !important;
        grid-template-rows: auto;
      }
      
      &-month {
        grid-area: d-month;
        justify-self: end;
        @include u-padding-right(0.5);
        @include u-font("sans", "sm");
        @include u-text("bold");
        @include u-text("uppercase");
        @include at-media("tablet") {
          justify-self: center;
          @include u-padding-right(0);
          @include u-font("sans", "xl");
          @include u-text(800);
        } 
      }
      &-day {
        grid-area: d-day;
        justify-self: start;
        @include u-font("sans", "2xl");
        @include u-line-height("sans", 1);
        @include u-padding-left(1);
        @include u-margin-bottom(0);
        @include u-text("thin");
        @include u-text(100);
        @include at-media("tablet") {
          justify-self: center;
          font-size: 5rem;
          @include u-padding-left(0);
          @include u-padding-bottom(1.5);
          @include u-margin-top(-1);
        }
      }
      &-register-button {
        grid-area: d-register;
        justify-self: center;
        @include u-flex("align-center");
        @include u-display("block");
        @include u-border("2px", "primary-vivid", "solid");
        @include u-radius("sm");
        @include u-bg("white");
        @include u-padding(0);
        @include u-font("sans", "sm");
        @include u-text("primary-vivid");
        @include u-text("center");
        @include u-text("no-underline");
        transition: background-color 0.25s, color 0.25s;
        width: 100%;
        @include at-media("tablet") {
          @include u-display("block");
          width: 80%;
        }
      }
    }
  }
  &:hover {
    .card__body-register-button {
      @include u-bg("primary-vivid");
      @include u-text("white");
    }
    .card__date-register-button {
      @include u-bg("primary-vivid");
      @include u-text("white");
    }
  }
}

// ==========================================================================
// Variants
// ==========================================================================

// Past events
// ==========================================================================
.card-event--past {
  @include u-border-top(0);
  .card__aside {
    @include u-display("block");
    @include u-border-left(0);
    @include u-padding-left(0);

    &-date {
      @include u-display("flex");
      @include u-flex-direction("row");
      @include u-padding-left(0);
      @include u-text("gray-cool-50");
      @include u-text(600);
      transition: color 0.25s;
      @include u-border(0);
      justify-content: center;
      @include u-border("2px", "gray-cool-50", "solid");
      @include u-radius("sm");
      @include at-media("tablet") {
        @include u-padding-left(2);
        @include u-border(0);
        @include u-border-left("1px", "indigo-warm-80", "solid");
        @include at-media("tablet") {
          display: grid;
          grid-template-areas: "d-month" "d-day" "d-description" !important;
          grid-template-rows: auto;
          justify-content: normal;
        }
      }
      &-month {
        font-size: inherit;
        font-weight: inherit;
        padding-left: 0.5ch;
        text-transform: none;
        @include at-media("tablet") {
          display: block;
          @include u-padding-right(0);
          @include u-font("sans", "xl");
          @include u-text(800);
          @include u-text("bold");
          @include u-text("uppercase");
        }
      }
      &-day {
        font-size: inherit;
        font-weight: inherit;
        text-transform: none;
        line-height: inherit;
        @include u-padding-left(0);
        @include at-media("tablet") {
          display: block;
          @include u-font("sans", "2xl");
          @include u-line-height("sans", 1);
          @include u-padding-left(1);
          @include u-margin-bottom(0);
          @include u-text("thin");
          @include u-text(100);
          font-size: 5rem;
        }
      }
      &-label {
        @include u-display("none");
        @include u-padding(0);
        @include u-bg("white");
        @include u-radius("sm");
        @include u-border("2px", "gray-cool-50", "solid");
        @include u-font("sans", "sm");
        @include u-text("gray-cool-50");
        @include u-text("center");
        width: 80%;
        justify-self: center;
        transition: border 0.25s, color 0.25s;
        @include u-display("none");
        @include at-media("tablet") {
          @include u-display("block");
        }
      }
      &--mobile-label {
        display: block;
        @include at-media("tablet") {
          display: none;
        }
      }
    }
  }
  &:hover {
    .card__date {
      @include u-text("gray-cool-60");
    }
    .card__date-label {
      @include u-border("2px", "gray-cool-60", "solid");
      @include u-text("gray-cool-60");
    }
  }
}
