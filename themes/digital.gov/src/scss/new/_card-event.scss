@use "uswds-core" as *;

.card-event {
  @include u-border-top("2px", "primary-darker", "solid");
  column-gap: units("205"); // Gives border consistent spacing on both sides
  grid-template-rows: 1fr !important;
  grid-template-areas:
    "c-main"
    "c-aside" !important;

  @include at-media("tablet") {
    grid-template-areas: "c-main c-aside" !important;
    grid-template-columns: 2fr 1fr !important;
  }

  &__main {
    grid-area: c-main !important;
    @include u-display("flex");
    @include u-flex-direction("column");
  }

  &__aside {
    grid-area: c-aside !important;

    @include u-flex("column");
    @include u-flex("align-center");
    @include u-width("auto");
    @include u-padding-left(0);
    @include u-border-left(0);

    @include at-media("tablet") {
      @include u-padding-left(2);
      @include u-border-left("1px", "indigo-warm-80", "solid");
    }
  }

  &__title {
    // refactor into _card.scss to update all card components from h3 to h2
    @include u-font("sans", "lg");
    @include u-margin(0);
    @include u-text("bold");

    a {
      @include u-text("primary-darker");
      @include u-text("no-underline");

      &::after {
        content: "";
        @include u-position("absolute");
        @include u-top(0);
        @include u-left(0);
        @include u-right(0);
        @include u-bottom(0);
      }
    }
  }

  &__body {
    @include u-display("flex");
    @include u-flex-direction("column");
    flex-basis: 100%;
  }

  &__deck {
    @include u-margin-top(1);
    @include u-line-height("sans", 3);
    @include u-font("sans", "md");
    @include u-text("normal");
  }

  .authors-list {
    @include at-media("tablet") {
      @include u-padding-bottom(2);
    }
  }

  &__kicker {
    @include u-display("none");
    @include u-margin(0);
    @include u-margin-bottom("05");
    @include u-font("sans", "2xs");
    @include u-text("semibold");
    @include u-text("uppercase");
    @include u-color("primary-vivid");
    @include at-media("tablet") {
      @include u-display("flex");
      flex-basis: 100%;
    }
  }

  &__host {
    @include u-font("sans", "md");
    @include u-margin-y(1.5);
    @include u-color("gray-cool-60");
    @include u-line-height("sans", 1);
  }

  &__cta {
    grid-area: d-cta;
    @include u-display("flex");
    @include u-flex-direction("row");
    @include u-flex("align-center");
    justify-content: center;
    @include u-border("2px", "primary-vivid", "solid");
    @include u-radius("sm");
    @include u-bg("white");
    @include u-padding(0);
    @include u-font("sans", "sm");
    @include u-text("primary-vivid");
    @include u-text("center");
    @include u-text("no-underline");
    transition: background-color 0.25s, color 0.25s;
    width: 100%;

    @include at-media("tablet") {
      @include u-display("none");
    }
  }

  &__date {
    @include at-media("tablet") {
      display: grid;
      grid-template-areas: "d-month" "d-day" "d-cta" !important;
      grid-template-rows: auto;
    }
  }

  &__date-label {
    @include u-display("flex");
    @include u-flex-direction("row");
    @include u-padding-left(0);
    @include u-text("gray-cool-50");
    @include u-text("normal");
    @include u-font("sans", "sm");
    @include u-border(0); // reset inherited styles from card-event
    @include u-border-top("2px", "gray-cool-50", "solid");
    @include u-radius("sm");
    width: 80%;
    justify-content: center;
    justify-self: center;

    &--mobile {
      @include u-display("block");

      @include at-media("tablet") {
        @include u-display("none");
      }
    }
  }

  &__datetime {
    @include u-display("none");

    @include at-media("tablet") {
      @include u-display("flex");
      @include u-flex-direction("row");
      @include u-flex("align-center");
      @include u-flex-direction("column");
    }

    &--mobile {
      @include u-display("inline");
      font-size: 1rem;
      font-weight: inherit;

      @include at-media("tablet") {
        @include u-display("none");
      }

      .card-event__datetime-month,
      .card-event__datetime-day {
        font-weight: 400;
        font-size: 1rem;
        text-transform: capitalize;
        @include u-font("sans", "sm");
      }
    }

    &-month {
      grid-area: d-month;
      justify-self: end;
      @include u-font("sans", "sm");
      @include u-text("bold");
      @include u-text("uppercase");

      @include at-media("tablet") {
        justify-self: center;
        @include u-padding-right(0);
        @include u-font("sans", "xl");
        @include u-text(800);
      }
    }

    &-day {
      grid-area: d-day;
      justify-self: start;
      @include u-font("sans", "2xl");
      @include u-line-height("sans", 1);
      @include u-margin-bottom(0);
      @include u-text("thin");
      @include u-text(100);

      @include at-media("tablet") {
        justify-self: center;
        font-size: 5rem;
        @include u-padding-left(0);
        @include u-padding-bottom(1.5);
        @include u-margin-top(-1);
      }
    }
  }
  &__cta {
    grid-area: d-cta;
    justify-self: center;
    @include u-flex("align-center");
    @include u-display("block");
    @include u-border("2px", "primary-vivid", "solid");
    @include u-radius("sm");
    @include u-bg("white");
    @include u-padding(0);
    @include u-font("sans", "sm");
    @include u-text("primary-vivid");
    @include u-text("center");
    @include u-text("no-underline");
    transition: background-color 0.25s, color 0.25s;
    width: 100%;
    @include at-media("tablet") {
      @include u-display("block");
      width: 80%;
    }
  }
  &:hover {
    .card-event__cta {
      @include u-bg("primary-vivid");
      @include u-text("white");
    }
    .card-event__cta {
      @include u-bg("primary-vivid");
      @include u-text("white");
    }
  }
}

// ==========================================================================
// Variants
// ==========================================================================

// Past events
// ==========================================================================
.card-event--past {
  @include u-border-top("2px", "transparent", "solid");

  .card-event__date-label {
    display: none;
    @include at-media("tablet") {
      display: flex;
    }
  }

  .card-event__date {
    @include u-text("gray-cool-50");
    @include u-text("normal");
    @include u-font("sans", "sm");

    @include at-media-max("tablet") {
      @include u-display("flex");
      @include u-flex-direction("row");
      @include u-padding-left(0);
      justify-content: center;
      @include u-border("2px", "gray-cool-50", "solid");
      @include u-radius("sm");
      transition: color 0.25s;
    }
  }

  .card-event__datetime {
    @include at-media-max("tablet") {
      padding-left: 0.5ch;
      @include u-display("inline");
    }
  }

  .card-event__datetime-month,
  .card-event__datetime-day {
    @include at-media-max("tablet") {
      text-transform: capitalize;
      font-weight: 400;
      font-size: 1rem;
    }
  }

  &:hover {
    .card-event__date {
      @include u-text("gray-cool-60");
    }

    .card-event__date-label {
      @include u-border-top("2px", "gray-cool-60", "solid");
      @include u-text("gray-cool-60");
    }
  }
}
